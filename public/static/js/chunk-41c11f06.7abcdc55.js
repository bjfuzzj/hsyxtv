(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41c11f06"],{"2bb9":function(e,t,r){"use strict";r("9bc7")},6724:function(e,t,r){"use strict";r("8d41");var a="@@wavesContext";function o(e,t){function r(r){var a=Object.assign({},t.value),o=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=o.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var i=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(i.width,i.height)+"px",s.appendChild(l)),o.type){case"center":l.style.top=i.height/2-l.offsetHeight/2+"px",l.style.left=i.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(r.pageY-i.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(r.pageX-i.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=o.color,l.className="waves-ripple z-active",!1}}return e[a]?e[a].removeHandle=r:e[a]={removeHandle:r},r}var s={bind:function(e,t){e.addEventListener("click",o(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[a].removeHandle,!1),e.addEventListener("click",o(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[a].removeHandle,!1),e[a]=null,delete e[a]}},i=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(i)),s.install=i;t["a"]=s},"8d41":function(e,t,r){},"9bc7":function(e,t,r){},"9dd3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"orderFrom",staticClass:"box",attrs:{model:e.order,"label-width":"150px"}},[r("div",{staticClass:"box-title"},[e._v("基本信息")]),e._v(" "),r("div",{staticClass:"box-center"},[r("el-form-item",{attrs:{label:"订单id",prop:"oid"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.id,callback:function(t){e.$set(e.order,"id",t)},expression:"order.id"}})],1),e._v(" "),e.order.product?r("el-form-item",{attrs:{label:"产品名",prop:"title"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.product.title,callback:function(t){e.$set(e.order.product,"title",t)},expression:"order.product.title"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"购买数量",prop:"buy_num"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.buy_num,callback:function(t){e.$set(e.order,"buy_num",t)},expression:"order.buy_num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"总价格(含优惠)",prop:"amount_total"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_total,callback:function(t){e.$set(e.order,"amount_total",t)},expression:"order.amount_total"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"应付金额(不含优惠)",prop:"amount_payable"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_payable,callback:function(t){e.$set(e.order,"amount_payable",t)},expression:"order.amount_payable"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"已付金额",prop:"amount_paid"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_paid,callback:function(t){e.$set(e.order,"amount_paid",t)},expression:"order.amount_paid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"优惠金额",prop:"amount_coupon"}},[10===e.order.status?r("el-input",{staticClass:"w500",attrs:{type:"text"},model:{value:e.order.amount_coupon,callback:function(t){e.$set(e.order,"amount_coupon",t)},expression:"order.amount_coupon"}}):r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_coupon,callback:function(t){e.$set(e.order,"amount_coupon",t)},expression:"order.amount_coupon"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"应退金额",prop:"amount_refundable"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_refundable,callback:function(t){e.$set(e.order,"amount_refundable",t)},expression:"order.amount_refundable"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"已退金额",prop:"amount_refunded"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.amount_refunded,callback:function(t){e.$set(e.order,"amount_refunded",t)},expression:"order.amount_refunded"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态",prop:"status_desc"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.status_desc,callback:function(t){e.$set(e.order,"status_desc",t)},expression:"order.status_desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"创建时间",prop:"create_time"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.created_at,callback:function(t){e.$set(e.order,"created_at",t)},expression:"order.created_at"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"支付时间",prop:"paid_time"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.paid_time,callback:function(t){e.$set(e.order,"paid_time",t)},expression:"order.paid_time"}})],1)],1),e._v(" "),e.order.user?r("div",{staticClass:"box-title"},[e._v("用户信息")]):e._e(),e._v(" "),e.order.user?r("div",{staticClass:"box-center"},[r("el-form-item",{attrs:{label:"用户昵称",prop:"nick_name"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.user.nick_name,callback:function(t){e.$set(e.order.user,"nick_name",t)},expression:"order.user.nick_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"真实姓名",prop:"real_name"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.user.real_name,callback:function(t){e.$set(e.order.user,"real_name",t)},expression:"order.user.real_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系手机",prop:"mobile"}},[r("el-input",{staticClass:"w500",attrs:{type:"text",disabled:""},model:{value:e.order.user.mobile,callback:function(t){e.$set(e.order.user,"mobile",t)},expression:"order.user.mobile"}})],1)],1):e._e(),e._v(" "),r("div",{staticClass:"box-title"},[e._v("物流信息")]),e._v(" "),r("div",{staticClass:"box-center"},[e._l(e.order.logistics,(function(t,a){return r("div",{key:a},[null==t.deleted_at||1==t.is_default?r("div",[r("el-form-item",{attrs:{label:"操作"}},[r("el-button",{attrs:{type:"danger"},on:{click:function(r){return e.delAddress(a,t)}}},[e._v("删除")])],1),e._v(" "),r("el-form-item",{attrs:{label:"是否默认地址"}},[1==t.is_default?r("div",[r("el-button",{attrs:{type:"primary"}},[e._v("是")]),e._v(" "),null!=t.deleted_at?r("el-button",{attrs:{type:"danger"}},[e._v("已删除")]):e._e()],1):e._e(),e._v(" "),0==t.is_default?r("el-button",{attrs:{type:"warning"}},[e._v("否")]):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"快递状态",prop:"status_desc"}},[r("el-input",{staticClass:"w500",attrs:{disabled:""},model:{value:t.status_desc,callback:function(r){e.$set(t,"status_desc",r)},expression:"logistic.status_desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"快递公司",prop:"express_name"}},[r("el-input",{staticClass:"w500",model:{value:t.express_name,callback:function(r){e.$set(t,"express_name",r)},expression:"logistic.express_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"快递单号",prop:"express_no"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.express_no,callback:function(r){e.$set(t,"express_no",r)},expression:"logistic.express_no"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"需发货数量",prop:"quantity"}},[r("el-input",{staticClass:"w500",model:{value:t.quantity,callback:function(r){e.$set(t,"quantity",r)},expression:"logistic.quantity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"寄送省份",prop:"receiver_province"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_province,callback:function(r){e.$set(t,"receiver_province",r)},expression:"logistic.receiver_province"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"寄送城市",prop:"receiver_city"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_city,callback:function(r){e.$set(t,"receiver_city",r)},expression:"logistic.receiver_city"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"寄送地区",prop:"receiver_district"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_district,callback:function(r){e.$set(t,"receiver_district",r)},expression:"logistic.receiver_district"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"寄送地址",prop:"address"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_address,callback:function(r){e.$set(t,"receiver_address",r)},expression:"logistic.receiver_address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收件人",prop:"receiver_name"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_name,callback:function(r){e.$set(t,"receiver_name",r)},expression:"logistic.receiver_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收件电话",prop:"phone"}},[r("el-input",{staticClass:"w500",model:{value:t.receiver_mobile,callback:function(r){e.$set(t,"receiver_mobile",r)},expression:"logistic.receiver_mobile"}})],1),e._v(" "),e.order.logistics&&a!=e.order.logistics.length-1?r("el-divider"):e._e()],1):e._e()])})),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addAddress()}}},[e._v("新增收货地址")])],1)],2),e._v(" "),r("div",{staticClass:"box-title"},[e._v("其他")]),e._v(" "),r("div",{staticClass:"box-center"},[r("el-form-item",{attrs:{label:"管理员备注",prop:"adminnote"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.order.adminnote,callback:function(t){e.$set(e.order,"adminnote",t)},expression:"order.adminnote"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSaveNote()}}},[e._v("保存")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.doRefund()}}},[e._v("发起退款")])],1)],1)},o=[],s=r("f8b7"),i=r("6724"),l={name:"OrderDetail",directives:{waves:i["a"]},data:function(){return{order:{},initLogistic:{order_id:""}}},created:function(){this.$route.query&&this.$route.query.id&&(this.order.id=this.$route.query.id),this.getData()},methods:{getData:function(){var e=this,t={};e.order.id&&(t.id=e.order.id),Object(s["d"])(t).then((function(t){t&&t.order&&(e.order=t.order)}))},doSaveNote:function(){var e=this;Object(s["c"])(e.order).then((function(t){e.$message.success("操作成功"),window.location.reload()}))},addAddress:function(){var e=this;e.initLogistic.order_id=e.order.id,e.order.logistics.push(e.initLogistic)},delAddress:function(e,t){var r=this;confirm("确认要删除这个地址哦！")&&(t.id>0?Object(s["a"])(t).then((function(e){r.$message.success("操作成功"),window.location.reload()})):r.order.logistics.splice(e,1))},doRefund:function(){var e=this;this.$prompt("请输入退款金额","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"输入需要退款的金额"}).then((function(t){var r=t.value,a={orderId:e.order.id,refundAmount:r};Object(s["b"])(a).then((function(t){e.$message.success("退款成功"),setTimeout((function(){this.getData()}),1500)}))}))}}},n=l,d=(r("2bb9"),r("c701")),c=Object(d["a"])(n,a,o,!1,null,"6811be7a",null);t["default"]=c.exports},f8b7:function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"g",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return n})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return c}));var a=r("b775");function o(e){return Object(a["a"])({url:"/order/index",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/order/detail",method:"post",params:e})}function i(e){return Object(a["a"])({url:"/order/markSend",method:"post",params:e})}function l(e){return Object(a["a"])({url:"/order/doSave",method:"post",params:e})}function n(e){return Object(a["a"])({url:"/order/markNoSend",method:"post",params:e})}function d(e){return Object(a["a"])({url:"/order/doDeleteAddress",method:"post",params:e})}function c(e){return Object(a["a"])({url:"/order/doRefundByAdmin",method:"post",data:e})}}}]);